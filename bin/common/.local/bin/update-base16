#!/usr/bin/env bash

set -e

base16_path="$XDG_DATA_HOME/base16"

repos=(
  "https://github.com/tinted-theming/base16-shell.git"
  "https://github.com/tinted-theming/base16-tmux.git"
  "https://github.com/tinted-theming/base16-fzf.git"
  "https://github.com/tinted-theming/base16-rofi.git"
  "https://github.com/tinted-theming/base16-polybar.git"
  "https://github.com/tinted-theming/base16-dunst.git"
)

for repo in ${repos[@]}; do
  folder_name=$(echo $repo | cut -d/ -f5 | cut -d. -f1)
  path="$base16_path/$folder_name"
  # If the repo was never cloned, do so, otherwise just update it
  if [ -d $path ]; then
    pushd $path || exit 1
    git pull --rebase
    popd || exit 1
  else
    git clone $repo $path
  fi
done
