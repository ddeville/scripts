#!/bin/bash

set -eu -o pipefail

requirements_file="$XDG_TOOLCHAINS_HOME/python/global/requirements.txt"
cmd=(uv run)

if [ -f "$requirements_file" ]; then
  cmd+=(--with-requirements "$requirements_file")
fi

cmd+=(python "$@")
exec "${cmd[@]}"
